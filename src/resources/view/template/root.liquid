{% layout 'root' %}

{% block head %}
  <title>AniMan - Review Anime and Manga granually</title>
  <style>
    body {
      height: 100dvh;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    img {
      filter: drop-shadow(-1px 1px 12px #000000);
    }
    .card-body {
      display: grid;
      gap: 1rem;
      place-items: center;
    }


    /* ----------------------------------------------
 * Generated by Animista on 2024-10-4 11:37:45
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info.
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

    .slide-in-top {
      animation: slide-in-top 0.3s cubic-bezier(0.250, 0.460, 0.450, 0.940) forwards;
    }
    @keyframes slide-in-top {
      0% {
        transform: translateY(-30px);
        opacity: 0;

      }
      100% {
        transform: translateY(0);
        opacity: 1;
      }
    }
    .slide-out-bottom {
      animation: slide-out-bottom 0.25s cubic-bezier(0.550, 0.085, 0.680, 0.530) forwards;
    }
    @keyframes slide-out-bottom {
      0% {
        transform: translateY(0);
        opacity: 1;
      }
      100% {
        transform: translateY(100px);
        opacity: 0;
      }
    }
    .ping {
      animation: ping 0.6s ease-in-out infinite both;
    }
    @keyframes ping {
      0% {
        transform: scale(0.2);
        opacity: 0.8;
      }
      80% {
        transform: scale(1.2);
        opacity: 0;
      }
      100% {
        transform: scale(2.2);
        opacity: 0;
      }
    }
  </style>
{% endblock %}

{% block %}
  <div class="card" style="width: 18rem;">
    <div class="card-body">
      <h5 class="card-title">Sign in with
        <span style="color: white; text-shadow: -1px 1px 10px #02a9ff;">Ani</span><span style="color: #02a9ff;  filter: drop-shadow(-1px 1px 5px #fff);">list</span>
      </h5>
      <form
        action="/auth"
        method="get"
        id="signin-btn"
        style="margin: 0; padding: 0; display: flex; justify-content: center; align-items: center; overflow: hidden;">
        <button type="submit" class="border primary-border">
          <img
            src="https://anilist.co/img/icons/icon.svg"
            alt="Anilist Logo"
            style="height: 1.5rem; filter: drop-shadow(0 0 5px #000);" />
          <span style="position: relative;">
            <span class="dummy" style="opacity: 0;">Sigining in...</span>
            <span
              class="come-in"
              style="cursor: pointer; position: absolute; left: 0;"
              hidden>Sigining in...</span>
            <span class="get-out" style="cursor: pointer; position: absolute; left: 0;">Sign in</span>
          </span>
        </button>
      </form>
    </div>
  </div>
  <script>
    const signinBtn = document.getElementById("signin-btn")
    signinBtn.onsubmit = ()=>{
      signinBtn.querySelector("img").classList.add("ping")
      signinBtn.querySelector(".come-in").removeAttribute("hidden")
      signinBtn.querySelector(".come-in").classList.add("slide-in-top")
      signinBtn.querySelector(".get-out").classList.add("slide-out-bottom")
      signinBtn.querySelector("button").setAttribute("disabled", "true")
    }
  </script>
{% endblock %}